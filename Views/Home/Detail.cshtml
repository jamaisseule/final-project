@model LUMOSBook.Models.Book
@{
    ViewData["Title"] = "Detail";
}

<br><br><br><br><br><br><br><br>
<section class="bg-light p-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <!-- Book Image -->
                <div class="text-center">
                    <img src="~/uploads/@Html.DisplayFor(model => model.Poster)" class="img-fluid rounded" alt="Book Cover">
                </div>
            </div>
            <div class="col-lg-6 mt-4 mt-lg-0">
                <!-- Book Details -->
                <h2 class="text-primary mb-4">@Html.DisplayFor(model => model.Title)</h2>
                <p class="lead">
                    <strong>Author:</strong> @Html.DisplayFor(model => model.Author.Name)
                </p>
                <p class="lead">
                    <strong>Publisher:</strong> @Html.DisplayFor(model => model.Publisher.Name)
                </p>
                <p class="lead">
                    <strong>Category:</strong> @Html.DisplayFor(model => model.Category.Name)
                </p>
                <p class="lead">
                    <strong>Release Date:</strong> @Html.DisplayFor(model => model.ReleaseDate)
                </p>
                <p class="lead" style="font-size: 24px; color: #999;">
                    <strong>Price:</strong> $@Html.DisplayFor(model => model.Price)
                </p>

                <hr>
                <p class="lead">
                    @Html.DisplayNameFor(model => model.Description): @Html.DisplayFor(model => model.Description)
                </p>
                <hr>

                <!-- Add to Cart Form -->
                <form asp-action="AddBook" method="post">
                    <input type="hidden" name="id" value="@Model.Id" />
                    <input type="hidden" name="name" value="@Model.Title" />
                    <input type="hidden" name="poster" value="@Model.Poster" />
                    <input type="hidden" name="author" value="@Model.Author.Name" />
                    <input type="hidden" name="price" value="@Model.Price" />

                    <div class="form-group row">
                        <label for="quantity" class="col-sm-3 col-form-label">Quantity:</label>
                        <div class="col-sm-9">
                            <input class="form-control" type="number" name="quantity" min="1" value="1">
                        </div>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04 js-addcart-detail">Add to Cart</button>
                    </div>
                </form>

                <!-- Notification Area -->
                <div id="cartNotification" class="cart-notification" style="position: fixed; top: 20px; right: 20px; background-color: #333; color: #fff; padding: 10px 20px; border-radius: 5px; display: none;">
                    Added to cart
                </div>

            </div>
        </div>
    </div>
</section>
<hr>


<script>
    // Show notification when added to cart
    document.addEventListener('DOMContentLoaded', function() {
        var form = document.querySelector('form[action="AddBook"]');
        form.addEventListener('submit', function(event) {
            event.preventDefault();
            document.getElementById('cartNotification').style.display = 'block';
            setTimeout(function() {
                document.getElementById('cartNotification').style.display = 'none';
            }, 3000); // Hide notification after 3 seconds
        });
    });
</script>
